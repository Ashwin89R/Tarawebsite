<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Tara's Dental</title>
    <!-- Maintain your existing theme CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <!-- Add Owl Carousel -->
    <link rel="stylesheet" href="../assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../assets/css/owl.theme.default.min.css">

    <style>
        .tt-gallery-section {
            padding: 80px 0;
            background: #fff;
        }

        .tt-gallery-filters {
            margin-bottom: 30px;
            text-align: center;
        }

        .tt-gallery-filters button {
            padding: 8px 20px;
            margin: 0 5px;
            border: none;
            background: #f5f5f5;
            color: #333;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tt-gallery-filters button.active {
            background: #18573A;
            color: #fff;
        }

        .tt-gallery-item {
            margin: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        }

        .tt-gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .tt-gallery-item-caption {
            padding: 15px;
            background: #fff;
        }

        .tt-gallery-item-caption h4 {
            margin: 0 0 5px;
            color: #18573A;
        }
    </style>
</head>

<body>
    <div class="tt-gallery-section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="tt-section-header text-center">
                        <h2>Our Gallery</h2>
                        <p>Take a look at our dental facility and services</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="tt-gallery-filters">
                        <button class="tt-filter-btn active" data-category="all">All</button>
                        <button class="tt-filter-btn" data-category="dental">Dental Care</button>
                        <button class="tt-filter-btn" data-category="clinic">Our Clinic</button>
                        <button class="tt-filter-btn" data-category="team">Our Team</button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="tt-gallery-carousel owl-carousel">
                        <!-- Gallery items will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script>
        $(document).ready(function () {
            // Initialize Owl Carousel
            const galleryCarousel = $('.tt-gallery-carousel').owlCarousel({
                loop: true,
                margin: 30,
                nav: true,
                dots: true,
                responsive: {
                    0: { items: 1 },
                    768: { items: 2 },
                    992: { items: 3 }
                }
            });

            // Function to load gallery items
            function loadGallery(category = 'all') {
                $.ajax({
                    url: '/api/gallery/read.php',
                    method: 'GET',
                    data: { category: category },
                    success: function (response) {
                        if (response.success) {
                            const items = response.data.map(item => `
                                <div class="tt-gallery-item">
                                    <img src="/${item.image_url}" alt="${item.title}">
                                    <div class="tt-gallery-item-caption">
                                        <h4>${item.title}</h4>
                                        <p>${item.category}</p>
                                    </div>
                                </div>
                            `).join('');

                            galleryCarousel.trigger('replace.owl.carousel', [items])
                                .trigger('refresh.owl.carousel');
                        }
                    }
                });
            }

            // Handle filter clicks
            $('.tt-filter-btn').click(function () {
                const category = $(this).data('category');
                $('.tt-filter-btn').removeClass('active');
                $(this).addClass('active');
                loadGallery(category);
            });

            // Initial load
            loadGallery();
        });
    </script>
</body>

</html>